# Vim 的文本剪贴

文本剪贴指的是复制、粘贴、剪切这三种操作。

Vim 自身提供剪贴板，与系统的剪贴版不通用。也就是说，默认的剪贴操作都是读写自身的剪贴板，而不是读写系统的剪贴板。

## 可视模式的剪贴

1. 将光标定位在要剪贴的文本开头。
1. 按`v`开始基于字符的视觉选择，或按`V`选择整行，或按`ctrl-v`选择矩形块。
1. 将光标移动到要剪贴的文本末尾。
1. 按`d`剪切，按`y`复制。
1. 将光标移动到所需的粘贴位置。
1. 按`p`在光标之后粘贴，或按`P`在之前粘贴。

步骤 1-3 可以用鼠标完成。

## 正常模式的剪贴

### 剪切

- ci" - 剪切当前引号中的文本
- ciw - 剪切当前单词。这与前一个一样工作，只是(被替换为w.
- C - 剪切其余的行并切换到插入模式。

### 复制和剪切

正常模式下的复制操作，直接使用`y`命令，后面跟上对象，即`y{motion}`格式。

- yy或Y 复制当前行，包括行尾的换行符。
- yj 复制当前行及下面一行。
- ygg 复制文件开头到当前位置。
- 5yy	复制当前行及随后的四行文本。
- yW	复制从当前光标位置到下一个单词的开头。
- y$	复制从当前光标位置到当前行的末尾，不包括换行符。
- y0	复制从当前光标位置到行首。
- y^	复制从当前光标位置到文本行的第一个非空字符。
- yG	复制从当前行到文件末尾。
- y20G	复制从当前行到文件的第20行。
- yiw：复制当前单词（不包括周围的空格）。
- yaw：复制当前单词（包括前导或尾随空格）。
- ytx：从光标位置复制到字符`x`之前（不包括`x`）。
- yfx：从光标位置复制到字符`x`（包括`x`）。

剪切操作就是使用`d`命令，替换上面命令里面的`y`，也是`d{motion}`格式，比如剪切当前行的命令就是`dd`。

- dd 剪切当前行，包括行尾的换行符。

复制和剪切命令还可以指定复制到哪个剪贴板，即在上面的命令之前再添加`"{register}`。

- `"ay` 复制到`a`剪贴板。
- `"by` 复制到`b`剪贴板。

### 粘贴

- `p` 剪切板中的文本粘贴到光标位置之后。
- `P` 剪切板中的文本粘贴到光标之前。
- `gp` 粘贴到光标位置之后，然后将光标移动到文本之后。 
- `gP` 粘贴到光标位置之前，然后将光标移动到文本之前。

如果要指定剪贴板，就使用`"{register}p`格式，双引号后面指定剪贴板的名称。

- `"aP`：从`a`剪贴板粘贴。
- `"bP`：从`b`剪贴板粘贴。

- `yyp` 复制并粘贴当前行
- `:r` 把指定的文件插入到光标位置之前

```
:r foo.txt
```

## 插入模式下剪贴

插入模式下，先按下`ctrl-r`，然后输入剪贴板的名称。比如，从默认剪贴板里面粘贴，就是先按下`Ctrl-r`然后按下`"`。从0号剪贴板粘贴，就是先按下`ctrl-r`，再按下`0`。

## 系统剪贴版的剪贴

系统剪贴板使用`"+`或`"*`表示。

复制到系统剪贴板。

- `"+y`：可视模式
- `"+y{motion}`：正常模式

从系统剪贴板粘贴，

- `"+p`：将系统剪贴板的内容粘贴到当前位置。